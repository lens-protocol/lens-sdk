fragment CommentWithFirstComment on Comment {
  ...Comment
  firstComment {
    ...Comment
  }
}

query Comments(
  $observerId: ProfileId
  $commentsOf: InternalPublicationId!
  $limit: LimitScalar!
  $cursor: Cursor
  $sources: [Sources!]
) {
  result: publications(
    request: { limit: $limit, cursor: $cursor, commentsOf: $commentsOf, sources: $sources }
  ) {
    items {
      ... on Post {
        # not possible to receive given we narrow to only comments
        # TODO: Remove fragment spread
        ...Post
      }

      ... on Mirror {
        # not possible to receive given we narrow to only comments
        ...Mirror
      }

      ... on Comment {
        ...CommentWithFirstComment
      }
    }
    pageInfo {
      ...CommonPaginatedResultInfo
    }
  }
}
