overwrite: true
hooks:
  afterAllFileWrite:
    - prettier --write
watch: false
config:
  gqlImport: graphql-tag
  defaultScalarType: unknown

  scalars:
    Attach: string
    BroadcastId: string
    ChainId: number
    ClientErc20Amount: ClientErc20Amount
    ContractAddress: string
    ContentEncryptionKey: ContentEncryptionKey
    Cursor: string
    DateTime: string
    DecryptionCriteria: DecryptionCriteria
    EncryptedValueScalar: string
    EthereumAddress: EthereumAddress
    FollowStatus: FollowStatus
    Handle: string
    InternalPublicationId: PublicationId
    Jwt: string
    LimitScalar: number
    CollectPolicy: CollectPolicy
    Locale: string
    Markdown: string
    Media: string
    MimeType: string
    NftOwnershipId: string
    Nonce: number
    NotificationId: string
    ProfileAttributes: ProfileAttributes
    FollowPolicy: FollowPolicy
    ProfileId: ProfileId
    ProxyActionId: string
    ReferenceModuleData: string
    ReferencePolicy: ReferencePolicy
    Search: string
    Signature: string
    Sources: AppId
    String: string
    TokenId: string
    TxHash: string
    TxId: string
    Url: Url
    Void: void
  avoidOptionals:
    field: true
generates:
  src/graphql/generated.tsx:
    schema:
      - https://api-mumbai.lens.dev/graphql
      - src/graphql/client.graphql
    documents:
      - src/graphql/*.graphql
    plugins:
      - 'typescript':
          nonOptionalTypename: true
      - add:
          content:
            [
              "import type { AppId, DecryptionCriteria, ProfileId, PublicationId } from '@lens-protocol/domain/entities';",
              "import type { Erc20Amount as ClientErc20Amount, EthereumAddress, Url } from '@lens-protocol/shared-kernel';",
              "import type { ContentEncryptionKey } from './ContentEncryptionKey';",
              "import type { ProfileAttributes } from './ProfileAttributes';",
              "import type { FollowPolicy } from './FollowPolicy';",
              "import type { FollowStatus } from './FollowStatus';",
              "import type { CollectPolicy } from './CollectPolicy';",
              "import type { ReferencePolicy } from './ReferencePolicy';",
            ]
      - 'typescript-operations':
          skipTypename: true
          immutableTypes: false
          inlineFragmentTypes: combine
      - 'typescript-react-apollo'
      - 'typescript-apollo-client-helpers'
      - 'fragment-matcher'
